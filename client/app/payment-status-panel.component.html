<div *ngIf="payment" class="status-panel" [ngClass]="cssClass">
  <ng-container *ngTemplateOutlet="statusIcon; context: { status: payment.status }"></ng-container>
  <div class="status-panel__title">{{ paymentTitles[payment.statusReason] }}</div>
  <div class="status-panel__details">
    <div class="key-value">
      <div class="key-value__key">Amount</div>
      <div class="key-value__value">{{ payment.paymentAmount / 100 | currency: 'USD' }}</div>
    </div>
    <div class="key-value">
      <div class="key-value__key">Date</div>
      <div class="key-value__value key-value__value--currency">{{ payment.timeCreated | isoDate }}</div>
    </div>
  </div>
</div>

<ng-template #statusIcon let-status="status">
  <ng-container [ngSwitch]="status">
    <ng-container *ngSwitchCase="statuses.COMPLETED">
      <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="15" cy="15" r="15" fill="#397352"/>
        <path d="M8.52295 15.718L12.4922 19.7728L20.1139 12.0094L19.0196 10.9092L12.4922 17.5569L9.60201 14.6101L8.52295 15.718Z" fill="#D9EFE5"/>
      </svg>
    </ng-container>
    <ng-container *ngSwitchCase="statuses.ACCEPTED">
      <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="15" cy="15" r="15" fill="#397352"/>
        <path d="M8.52295 15.718L12.4922 19.7728L20.1139 12.0094L19.0196 10.9092L12.4922 17.5569L9.60201 14.6101L8.52295 15.718Z" fill="#D9EFE5"/>
      </svg>
    </ng-container>
    <ng-container *ngSwitchCase="statuses.PENDING">
      <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="15" cy="15" r="15" fill="#004CBF"/>
        <path d="M18.0958 19.7813H18.0938V18.0704C18.0938 17.4916 17.7228 16.7691 17.257 16.4257L15.4687 15.1118V14.8883L17.2569 13.5744C17.7228 13.231 18.0937 12.5085 18.0937 11.9297V10.2188H18.0957C18.4059 10.2188 18.6562 9.96648 18.6562 9.65629V9.56248C18.6562 9.25229 18.4059 9 18.0957 9H11.9066C11.5964 9 11.3438 9.25229 11.3438 9.56248V9.6562C11.3438 9.96639 11.5962 10.2187 11.9064 10.2187L11.909 11.9296C11.909 12.5085 12.2734 13.2305 12.7401 13.5732L14.5313 14.8893V15.1106L12.7387 16.4268C12.2721 16.7695 11.9062 17.4915 11.9062 18.0704V19.7813H11.9066C11.5964 19.7813 11.3438 20.0336 11.3438 20.3438V20.4375C11.3438 20.7477 11.5964 21 11.9066 21H18.0958C18.406 21 18.6563 20.7477 18.6563 20.4375V20.3438C18.6563 20.0336 18.406 19.7813 18.0958 19.7813ZM17.7188 19.7814H17.25V18.3109C17.25 17.8836 16.9818 17.3501 16.6376 17.0965L15.1159 15.9742C15.0499 15.9254 14.9601 15.9253 14.894 15.974L13.3642 17.0973C13.0197 17.3504 12.75 17.8835 12.75 18.3109V19.7813H12.2812V18.0704C12.2812 17.6137 12.5937 16.9995 12.9618 16.7291L14.8301 15.3568C14.8782 15.3215 14.9062 15.2654 14.9062 15.2057V14.7944C14.9062 14.7347 14.8788 14.6786 14.8308 14.6433L12.9613 13.271C12.5931 13.0006 12.2812 12.3864 12.2812 11.9297V10.2188H17.7188V11.9297C17.7188 12.3866 17.4022 13.0016 17.0344 13.2727L15.1729 14.6427C15.125 14.678 15.0937 14.734 15.0937 14.7936V15.2065C15.0937 15.266 15.122 15.3221 15.1699 15.3574L17.0345 16.7275C17.4021 16.9986 17.7188 17.6136 17.7188 18.0705V19.7814Z" fill="#DCECF9"/>
        <path d="M16.706 12.6944C16.6807 12.6173 16.6088 12.5654 16.5278 12.5654L13.4756 12.5645C13.3946 12.5645 13.3227 12.6165 13.2974 12.6935C13.2722 12.7705 13.2993 12.8551 13.3647 12.9031L14.8945 14.0264C14.9275 14.0507 14.9665 14.0628 15.0054 14.0628C15.0445 14.0628 15.0836 14.0506 15.1167 14.0261L16.6392 12.9038C16.7043 12.8558 16.7313 12.7713 16.706 12.6944Z" fill="#DCECF9"/>
      </svg>
    </ng-container>
    <ng-container *ngSwitchCase="statuses.RETURNED">
      <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="15" cy="15" r="15" fill="#BF0000"/>
        <path d="M19.2179 17.8558L16.3621 15L19.2179 12.1442C19.594 11.7681 19.5941 11.1583 19.218 10.7821C18.8418 10.406 18.232 10.406 17.8559 10.7821L15 13.6379L12.1442 10.7821C11.7681 10.406 11.1582 10.406 10.7821 10.7821C10.406 11.1583 10.406 11.7681 10.7821 12.1442L13.638 15L10.7821 17.8558C10.406 18.232 10.4059 18.8418 10.7821 19.2179C11.1583 19.5941 11.7682 19.594 12.1442 19.2179L15 16.3621L17.8559 19.2179C18.2319 19.594 18.8418 19.5941 19.218 19.2179C19.5941 18.8417 19.5941 18.2319 19.2179 17.8558Z" fill="#DCECF9"/>
      </svg>
    </ng-container>
    <ng-container *ngSwitchCase="statuses.FAILED">
      <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="15" cy="15" r="15" fill="#BF0000"/>
        <path d="M19.2179 17.8558L16.3621 15L19.2179 12.1442C19.594 11.7681 19.5941 11.1583 19.218 10.7821C18.8418 10.406 18.232 10.406 17.8559 10.7821L15 13.6379L12.1442 10.7821C11.7681 10.406 11.1582 10.406 10.7821 10.7821C10.406 11.1583 10.406 11.7681 10.7821 12.1442L13.638 15L10.7821 17.8558C10.406 18.232 10.4059 18.8418 10.7821 19.2179C11.1583 19.5941 11.7682 19.594 12.1442 19.2179L15 16.3621L17.8559 19.2179C18.2319 19.594 18.8418 19.5941 19.218 19.2179C19.5941 18.8417 19.5941 18.2319 19.2179 17.8558Z" fill="#DCECF9"/>
      </svg>
    </ng-container>
  </ng-container>
</ng-template>
